<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Website Name</title>
    <meta property="og:type" content="website">

    <link rel="icon" href="/favicon.ico">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">

    <link rel="stylesheet" href="styles.css">

</head>

<body>
    <h1>Web name</h1>
    <div id="main-content">
        <div id="calendar">
            <h2>
                <button onclick="monthDown()">&lt;</button>
                <span id="calendar-month">
                    <!-- text content will be replace with appropriate month/year, in updateCalendar in calendar.js-->
                    MONTH YEAR
                </span>
                <button onclick="monthUp()">&gt;</button>
                <button onclick="gotoToday()">T</button>
            </h2>

            <table id="calendar-table">
                <tr>
                    <th>SUN</th>
                    <th>MON</th>
                    <th>TUE</th>
                    <th>WED</th>
                    <th>THU</th>
                    <th>FRI</th>
                    <th>SAT</th>
                </tr>
                <!-- calendar.js will create table cells here-->
                <!-- cell's inner html is defined in updateCalendarCell in template.js -->
                <!-- cell css class is "calendar-cell" -->
                <!-- selecting cell also have ccs class "calendar-cell-selected" -->
            </table>

        </div>

        <div id="date-event">
            <h2 id="date-select">
                <!-- text content will be replace with date string of selecting cell, in updateCalendar in calendar.js-->
                Date Select
            </h2>

            <ul id="date-event-list">
                <!-- will be filled by updateEventList in template.js -->
            </ul>

            <form action="#" id="date-event-form" onsubmit="submitEvent(event)">
                <select name="subject" selected="" required>
                    <option disabled selected value="">วิชา</option>
                    <option value="Cal">Cal</option>
                </select>
                <select name="type" selected="" required>
                    <option disabled selected value="">ประเภทงาน</option>
                    <option value="Exam">สอบ</option>
                    <option value="HW">การบ้าน</option>
                    <option value="_">อื่นๆ</option>
                </select>
                <select name="difficulity" selected="" required>
                    <option disabled selected value="">ความยาก</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
                <input name="name" placeholder="Task Name" required />
                <button>Submit</button>
            </form>
        </div>
    </div>

    <script type="module" src="firebase_init.js"></script>
    <script type="module" src="api.js"></script>
    <script type="module" src="notification.js"></script>
    <script type="module" src="event.js"></script>
    <script type="module" src="template.js"></script>
    <script type="module" src="calendar.js"></script>
    <script type="module">
        import { initalizeCalendar, setSelectedDate } from "./calendar.js";
        initalizeCalendar();

        document.getElementById("date-select").onclick = () => {
            const [d, m, y] = window.prompt("Input date (d/m/Y)").split('/');
            const date = new Date(y, m - 1, d);
            if (isNaN(date.getTime())) { alert("Invalid date"); return; }
            setSelectedDate(date);
        };
    </script>
</body>

</html>